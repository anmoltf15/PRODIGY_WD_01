<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Precision Stopwatch Pro</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>‚è±</text></svg>">
    <style>
        :root {
            --primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%);
            --glass-bg: rgba(255, 255, 255, 0.08);
            --glass-border: rgba(255, 255, 255, 0.15);
            --dark-glass: rgba(0, 0, 0, 0.15);
            --text-primary: #ffffff;
            --text-secondary: rgba(255, 255, 255, 0.8);
            --text-muted: rgba(255, 255, 255, 0.6);
            --success: #10b981;
            --warning: #f59e0b;
            --danger: #ef4444;
            --info: #06b6d4;
            --shadow-xl: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
            --shadow-2xl: 0 35px 60px -12px rgba(0, 0, 0, 0.35);
        }

        /* Cyan Ocean Theme */
        .theme-cyan {
            --primary-gradient: linear-gradient(135deg, #06b6d4 0%, #0891b2 50%, #0e7490 100%);
            --glass-bg: rgba(255, 255, 255, 0.1);
            --glass-border: rgba(255, 255, 255, 0.2);
            --success: #10b981;
            --warning: #f59e0b;
            --danger: #ef4444;
            --info: #3b82f6;
        }

        /* Emerald Forest Theme */
        .theme-emerald {
            --primary-gradient: linear-gradient(135deg, #10b981 0%, #059669 50%, #047857 100%);
            --glass-bg: rgba(255, 255, 255, 0.1);
            --glass-border: rgba(255, 255, 255, 0.2);
            --success: #22c55e;
            --warning: #f59e0b;
            --danger: #ef4444;
            --info: #06b6d4;
        }

        /* Sunset Orange Theme */
        .theme-orange {
            --primary-gradient: linear-gradient(135deg, #fb923c 0%, #f97316 50%, #ea580c 100%);
            --glass-bg: rgba(255, 255, 255, 0.1);
            --glass-border: rgba(255, 255, 255, 0.2);
            --success: #10b981;
            --warning: #facc15;
            --danger: #dc2626;
            --info: #06b6d4;
        }

        /* Rose Pink Theme */
        .theme-rose {
            --primary-gradient: linear-gradient(135deg, #f43f5e 0%, #e11d48 50%, #be123c 100%);
            --glass-bg: rgba(255, 255, 255, 0.1);
            --glass-border: rgba(255, 255, 255, 0.2);
            --success: #10b981;
            --warning: #f59e0b;
            --danger: #fca5a5;
            --info: #06b6d4;
        }

        /* Dark Space Theme */
        .theme-dark {
            --primary-gradient: linear-gradient(135deg, #1f2937 0%, #111827 50%, #030712 100%);
            --glass-bg: rgba(255, 255, 255, 0.05);
            --glass-border: rgba(255, 255, 255, 0.1);
            --text-primary: #f9fafb;
            --text-secondary: rgba(249, 250, 251, 0.8);
            --text-muted: rgba(249, 250, 251, 0.6);
            --success: #22c55e;
            --warning: #fbbf24;
            --danger: #ef4444;
            --info: #3b82f6;
        }

        /* Golden Luxury Theme */
        .theme-gold {
            --primary-gradient: linear-gradient(135deg, #fbbf24 0%, #f59e0b 50%, #d97706 100%);
            --glass-bg: rgba(255, 255, 255, 0.12);
            --glass-border: rgba(255, 255, 255, 0.25);
            --success: #10b981;
            --warning: #fde047;
            --danger: #ef4444;
            --info: #06b6d4;
        }

        /* Theme Selector */
        .theme-selector {
            position: absolute;
            top: 1rem;
            right: 1rem;
            display: flex;
            flex-direction: column;
            align-items: flex-end;
            gap: 0.5rem;
            z-index: 10;
        }

        .theme-title {
            font-size: 0.75rem;
            font-weight: 500;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .theme-options {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
            justify-content: flex-end;
        }

        .theme-btn {
            width: 40px;
            height: 40px;
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 50%;
            background: var(--glass-bg);
            backdrop-filter: blur(10px);
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            position: relative;
            overflow: hidden;
        }

        .theme-btn:hover {
            transform: scale(1.1);
            border-color: rgba(255, 255, 255, 0.4);
            box-shadow: 0 4px 20px rgba(255, 255, 255, 0.2);
        }

        .theme-btn.active {
            border-color: rgba(255, 255, 255, 0.8);
            box-shadow: 0 0 20px rgba(255, 255, 255, 0.3);
            transform: scale(1.05);
        }

        .theme-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            border-radius: 50%;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .theme-btn:hover::before {
            opacity: 0.1;
            background: radial-gradient(circle, rgba(255, 255, 255, 0.3), transparent);
        }

        /* Theme-specific button backgrounds */
        .theme-btn[data-theme="default"]::after {
            content: '';
            position: absolute;
            inset: 3px;
            border-radius: 50%;
            background: linear-gradient(135deg, #667eea, #764ba2, #f093fb);
            z-index: -1;
            opacity: 0.3;
        }

        .theme-btn[data-theme="cyan"]::after {
            content: '';
            position: absolute;
            inset: 3px;
            border-radius: 50%;
            background: linear-gradient(135deg, #06b6d4, #0891b2, #0e7490);
            z-index: -1;
            opacity: 0.3;
        }

        .theme-btn[data-theme="emerald"]::after {
            content: '';
            position: absolute;
            inset: 3px;
            border-radius: 50%;
            background: linear-gradient(135deg, #10b981, #059669, #047857);
            z-index: -1;
            opacity: 0.3;
        }

        .theme-btn[data-theme="orange"]::after {
            content: '';
            position: absolute;
            inset: 3px;
            border-radius: 50%;
            background: linear-gradient(135deg, #fb923c, #f97316, #ea580c);
            z-index: -1;
            opacity: 0.3;
        }

        .theme-btn[data-theme="rose"]::after {
            content: '';
            position: absolute;
            inset: 3px;
            border-radius: 50%;
            background: linear-gradient(135deg, #f43f5e, #e11d48, #be123c);
            z-index: -1;
            opacity: 0.3;
        }

        .theme-btn[data-theme="dark"]::after {
            content: '';
            position: absolute;
            inset: 3px;
            border-radius: 50%;
            background: linear-gradient(135deg, #1f2937, #111827, #030712);
            z-index: -1;
            opacity: 0.5;
        }

        .theme-btn[data-theme="gold"]::after {
            content: '';
            position: absolute;
            inset: 3px;
            border-radius: 50%;
            background: linear-gradient(135deg, #fbbf24, #f59e0b, #d97706);
            z-index: -1;
            opacity: 0.3;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            min-height: 100vh;
            background: var(--primary-gradient);
            position: relative;
            overflow-x: hidden;
        }

        /* Animated background particles */
        .background-particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            overflow: hidden;
        }

        .particle {
            position: absolute;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            animation: float 6s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0) rotate(0deg); opacity: 0.3; }
            50% { transform: translateY(-20px) rotate(180deg); opacity: 0.8; }
        }

        .main-container {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 2rem;
            position: relative;
        }

        .app-container {
            background: var(--glass-bg);
            backdrop-filter: blur(25px);
            border: 1px solid var(--glass-border);
            border-radius: 32px;
            padding: 3rem;
            box-shadow: var(--shadow-2xl);
            max-width: 480px;
            width: 100%;
            position: relative;
            overflow: hidden;
            transform: translateY(0);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .app-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 1px;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
        }

        .app-container:hover {
            transform: translateY(-4px);
            box-shadow: var(--shadow-2xl), 0 0 40px rgba(255, 255, 255, 0.1);
        }

        /* Header */
        .header {
            text-align: center;
            margin-bottom: 2.5rem;
            position: relative;
        }

        .header-icon {
            font-size: 2.5rem;
            margin-bottom: 1rem;
            display: block;
            filter: drop-shadow(0 4px 8px rgba(0, 0, 0, 0.2));
            animation: pulse 2s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .header h1 {
            color: var(--text-primary);
            font-size: 1.75rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
            letter-spacing: -0.025em;
        }

        .header p {
            color: var(--text-secondary);
            font-size: 0.875rem;
            font-weight: 400;
        }

        /* Stopwatch Display */
        .stopwatch-container {
            position: relative;
            margin-bottom: 2.5rem;
        }

        .stopwatch-display {
            background: var(--dark-glass);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 24px;
            padding: clamp(1.5rem, 4vw, 2.5rem) clamp(1rem, 3vw, 1.5rem);
            position: relative;
            overflow: hidden;
            box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.1);
            min-height: 120px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .stopwatch-display::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.08), transparent);
            transition: left 0.6s ease;
        }

        .stopwatch-display.running::before {
            animation: shimmer 3s ease-in-out infinite;
        }

        @keyframes shimmer {
            0% { left: -100%; }
            100% { left: 100%; }
        }

        .time-display {
            color: var(--text-primary);
            text-align: center;
            font-variant-numeric: tabular-nums;
            text-shadow: 0 0 30px rgba(255, 255, 255, 0.3);
            position: relative;
            z-index: 1;
            width: 100%;
            overflow: hidden;
        }

        .time-parts {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: clamp(0.1rem, 1vw, 0.25rem);
            width: 100%;
            flex-wrap: nowrap;
        }

        .time-part {
            display: flex;
            flex-direction: column;
            align-items: center;
            position: relative;
            min-width: 0;
            flex-shrink: 1;
        }

        .time-value {
            font-size: clamp(1.5rem, 4vw, 2.5rem);
            font-weight: 800;
            line-height: 1;
            white-space: nowrap;
        }

        .time-label {
            font-size: clamp(0.5rem, 1.5vw, 0.625rem);
            font-weight: 500;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 0.1em;
            margin-top: 0.25rem;
            white-space: nowrap;
        }

        .time-separator {
            font-size: clamp(1rem, 3vw, 1.8rem);
            font-weight: 300;
            color: var(--text-secondary);
            margin: 0 clamp(0.1rem, 1vw, 0.3rem);
            animation: blink 1s ease-in-out infinite;
            flex-shrink: 0;
        }

        @keyframes blink {
            0%, 50% { opacity: 1; }
            51%, 100% { opacity: 0.3; }
        }

        .running .time-separator {
            animation-play-state: running;
        }

        .paused .time-separator {
            animation-play-state: paused;
        }

        /* Controls */
        .controls {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
            margin-bottom: 2.5rem;
        }

        .btn {
            position: relative;
            padding: 1rem 1.5rem;
            border: none;
            border-radius: 20px;
            font-family: inherit;
            font-size: 0.875rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            overflow: hidden;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
            transition: left 0.6s ease;
        }

        .btn:hover::before {
            left: 100%;
        }

        .btn:active {
            transform: scale(0.98);
        }

        .btn:disabled {
            opacity: 0.4;
            cursor: not-allowed;
            transform: none !important;
        }

        .btn:disabled::before {
            display: none;
        }

        .btn-start {
            background: linear-gradient(135deg, var(--success), #059669);
            color: white;
            box-shadow: 0 8px 25px rgba(16, 185, 129, 0.3);
        }

        .btn-start:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 12px 35px rgba(16, 185, 129, 0.4);
        }

        .btn-pause {
            background: linear-gradient(135deg, var(--warning), #d97706);
            color: white;
            box-shadow: 0 8px 25px rgba(245, 158, 11, 0.3);
        }

        .btn-pause:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 12px 35px rgba(245, 158, 11, 0.4);
        }

        .btn-reset {
            background: linear-gradient(135deg, var(--danger), #dc2626);
            color: white;
            box-shadow: 0 8px 25px rgba(239, 68, 68, 0.3);
        }

        .btn-reset:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 12px 35px rgba(239, 68, 68, 0.4);
        }

        .btn-lap {
            background: linear-gradient(135deg, var(--info), #0891b2);
            color: white;
            box-shadow: 0 8px 25px rgba(6, 182, 212, 0.3);
        }

        .btn-lap:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 12px 35px rgba(6, 182, 212, 0.4);
        }

        /* Lap Times */
        .lap-section {
            position: relative;
        }

        .lap-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 1rem;
            padding-bottom: 0.75rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .lap-title {
            font-size: 1.125rem;
            font-weight: 600;
            color: var(--text-primary);
        }

        .lap-count {
            background: var(--glass-bg);
            color: var(--text-secondary);
            font-size: 0.75rem;
            font-weight: 500;
            padding: 0.25rem 0.75rem;
            border-radius: 12px;
            border: 1px solid var(--glass-border);
        }

        .lap-list {
            max-height: 400px;
            overflow-y: auto;
            scrollbar-width: thin;
            scrollbar-color: rgba(255, 255, 255, 0.3) transparent;
        }

        .lap-list::-webkit-scrollbar {
            width: 4px;
        }

        .lap-list::-webkit-scrollbar-track {
            background: transparent;
        }

        .lap-list::-webkit-scrollbar-thumb {
            background: rgba(255, 255, 255, 0.3);
            border-radius: 2px;
        }

        .lap-item {
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.08);
            border-radius: 16px;
            padding: 1rem 1.25rem;
            margin-bottom: 0.5rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .lap-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 3px;
            height: 100%;
            background: linear-gradient(180deg, var(--info), var(--success));
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .lap-item:hover {
            transform: translateX(4px);
            border-color: rgba(255, 255, 255, 0.15);
        }

        .lap-item:hover::before {
            opacity: 1;
        }

        /* Enhanced Lap Controls */
        .lap-controls {
            display: flex;
            gap: 0.75rem;
            margin-bottom: 1rem;
            padding: 1rem;
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            border-radius: 12px;
            align-items: center;
            justify-content: space-between;
        }

        .lap-control-btn {
            background: var(--glass-bg);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            padding: 0.5rem 0.75rem;
            color: var(--text-secondary);
            font-size: 0.75rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.25rem;
        }

        .lap-control-btn:hover {
            background: rgba(255, 255, 255, 0.1);
            color: var(--text-primary);
            transform: translateY(-1px);
        }

        .lap-filter {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .lap-select {
            background: var(--glass-bg);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 6px;
            padding: 0.4rem 0.6rem;
            color: var(--text-primary);
            font-size: 0.75rem;
            font-family: inherit;
            cursor: pointer;
            min-width: 120px;
        }

        .lap-select:focus {
            outline: none;
            border-color: var(--info);
        }

        .lap-select option {
            background: #1a1a1a;
            color: white;
        }

        /* Enhanced Lap Items */
        .lap-item {
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.08);
            border-radius: 12px;
            padding: 1rem 1.25rem;
            margin-bottom: 0.5rem;
            display: grid;
            grid-template-columns: auto 1fr auto;
            gap: 1rem;
            align-items: center;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .lap-position {
            background: linear-gradient(135deg, var(--info), var(--success));
            color: white;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.75rem;
            font-weight: 700;
            flex-shrink: 0;
        }

        .lap-details {
            display: flex;
            flex-direction: column;
            gap: 0.25rem;
            min-width: 0;
        }

        .lap-main-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 1rem;
        }

        .lap-number {
            font-size: 0.9rem;
            font-weight: 600;
            color: var(--text-primary);
        }

        .lap-time {
            font-family: 'SF Mono', 'Monaco', 'Inconsolata', 'Roboto Mono', monospace;
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--text-primary);
            letter-spacing: 0.025em;
        }

        .lap-meta {
            display: flex;
            gap: 1rem;
            font-size: 0.75rem;
            color: var(--text-muted);
        }

        .lap-split-time {
            display: flex;
            align-items: center;
            gap: 0.25rem;
        }

        .lap-performance {
            display: flex;
            align-items: center;
            gap: 0.25rem;
        }

        .performance-badge {
            padding: 0.125rem 0.375rem;
            border-radius: 4px;
            font-size: 0.625rem;
            font-weight: 600;
            text-transform: uppercase;
        }

        .badge-best {
            background: rgba(16, 185, 129, 0.2);
            color: var(--success);
        }

        .badge-worst {
            background: rgba(239, 68, 68, 0.2);
            color: var(--danger);
        }

        .badge-avg {
            background: rgba(245, 158, 11, 0.2);
            color: var(--warning);
        }

        /* Lap Summary */
        .lap-summary {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1rem;
            margin-top: 1rem;
            padding: 1rem;
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            border-radius: 12px;
        }

        .summary-item {
            text-align: center;
        }

        .summary-label {
            font-size: 0.7rem;
            font-weight: 500;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 0.05em;
            margin-bottom: 0.5rem;
        }

        .summary-value {
            font-family: 'SF Mono', 'Monaco', 'Inconsolata', 'Roboto Mono', monospace;
            font-size: 1rem;
            font-weight: 600;
            color: var(--text-primary);
        }

        .lap-info {
            display: flex;
            flex-direction: column;
            gap: 0.25rem;
        }

        .lap-number {
            font-size: 0.875rem;
            font-weight: 600;
            color: var(--text-primary);
        }

        .lap-subtitle {
            font-size: 0.75rem;
            color: var(--text-muted);
        }

        .lap-time {
            font-family: 'SF Mono', 'Monaco', 'Inconsolata', 'Roboto Mono', monospace;
            font-size: 1rem;
            font-weight: 600;
            color: var(--text-primary);
            letter-spacing: 0.025em;
        }

        .empty-state {
            text-align: center;
            padding: 3rem 1rem;
            color: var(--text-muted);
        }

        .empty-icon {
            font-size: 2.5rem;
            margin-bottom: 1rem;
            opacity: 0.6;
        }

        .empty-text {
            font-size: 0.875rem;
            line-height: 1.6;
        }

        /* Stats Bar */
        .stats-bar {
            display: flex;
            gap: 1rem;
            margin-bottom: 1.5rem;
            padding: 1rem;
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            border-radius: 16px;
        }

        .stat-item {
            flex: 1;
            text-align: center;
        }

        .stat-value {
            font-size: 1.25rem;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 0.25rem;
        }

        .stat-label {
            font-size: 0.75rem;
            font-weight: 500;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        /* Responsive Design */
        @media (max-width: 640px) {
            .main-container {
                padding: 1rem;
            }

            .app-container {
                padding: 2rem 1.5rem;
            }

            .stopwatch-display {
                padding: clamp(1rem, 3vw, 1.5rem) clamp(0.75rem, 2vw, 1rem);
                min-height: 100px;
            }

            .time-value {
                font-size: clamp(1.2rem, 3.5vw, 2rem);
            }

            .time-separator {
                font-size: clamp(0.8rem, 2.5vw, 1.5rem);
                margin: 0 clamp(0.05rem, 0.5vw, 0.2rem);
            }

            .time-label {
                font-size: clamp(0.4rem, 1.2vw, 0.5rem);
            }

            .time-parts {
                gap: clamp(0.05rem, 0.5vw, 0.15rem);
            }

            .controls {
                grid-template-columns: 1fr;
                gap: 0.75rem;
            }

            .btn {
                padding: 0.875rem 1.25rem;
            }

            .stats-bar {
                flex-direction: column;
                gap: 0.75rem;
                text-align: center;
            }

            .stat-item {
                padding: 0.5rem 0;
                border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            }

            .stat-item:last-child {
                border-bottom: none;
            }

            .lap-controls {
                flex-direction: column;
                gap: 0.5rem;
                align-items: stretch;
            }

            .lap-filter {
                justify-content: center;
            }

            .lap-summary {
                grid-template-columns: 1fr;
                gap: 0.75rem;
            }

            .lap-item {
                grid-template-columns: auto 1fr;
                gap: 0.75rem;
            }

            .lap-main-info {
                flex-direction: column;
                align-items: flex-start;
                gap: 0.25rem;
            }

            .lap-meta {
                flex-direction: column;
                gap: 0.25rem;
            }
        }

        /* Extra small screens */
        @media (max-width: 480px) {
            .app-container {
                padding: 1.5rem 1rem;
                margin: 0.5rem;
            }

            .stopwatch-display {
                padding: clamp(0.75rem, 2vw, 1rem) clamp(0.5rem, 1.5vw, 0.75rem);
                min-height: 80px;
                border-radius: 16px;
            }

            .time-value {
                font-size: clamp(1rem, 3vw, 1.5rem);
            }

            .time-separator {
                font-size: clamp(0.6rem, 2vw, 1rem);
            }

            .time-label {
                font-size: clamp(0.35rem, 1vw, 0.45rem);
                margin-top: 0.15rem;
            }

            .header h1 {
                font-size: 1.25rem;
            }

            .header p {
                font-size: 0.8rem;
            }
        }

        /* Very small screens - ensure everything fits */
        @media (max-width: 360px) {
            .time-parts {
                gap: 0.05rem;
            }

            .time-value {
                font-size: clamp(0.9rem, 2.8vw, 1.3rem);
            }

            .time-separator {
                font-size: clamp(0.5rem, 1.8vw, 0.8rem);
                margin: 0 0.05rem;
            }

            .time-label {
                font-size: clamp(0.3rem, 0.9vw, 0.4rem);
            }

            .stopwatch-display {
                min-height: 70px;
                padding: 0.5rem 0.3rem;
            }
        }
                grid-template-columns: 1fr;
                gap: 0.75rem;
            }

            .btn {
                padding: 0.875rem 1.25rem;
            }

            .stats-bar {
                flex-direction: column;
                gap: 0.75rem;
                text-align: center;
            }

            .stat-item {
                padding: 0.5rem 0;
                border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            }

            .stat-item:last-child {
                border-bottom: none;
            }
        }

        /* Enter animations */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .fade-in-up {
            animation: fadeInUp 0.6s ease-out;
        }

        .fade-in-up-delay {
            animation: fadeInUp 0.8s ease-out;
        }
    </style>
</head>
<body>
    <div class="background-particles" id="particles"></div>
    
    <div class="main-container">
        <div class="app-container fade-in-up">
            <!-- Theme Selector -->
            <div class="theme-selector">
                <div class="theme-title">Choose Theme</div>
                <div class="theme-options">
                    <button class="theme-btn" data-theme="default" title="Purple Galaxy">üåå</button>
                    <button class="theme-btn" data-theme="cyan" title="Cyan Ocean">üåä</button>
                    <button class="theme-btn" data-theme="emerald" title="Emerald Forest">üå≤</button>
                    <button class="theme-btn" data-theme="orange" title="Sunset Orange">üåÖ</button>
                    <button class="theme-btn" data-theme="rose" title="Rose Pink">üåπ</button>
                    <button class="theme-btn" data-theme="dark" title="Dark Space">üöÄ</button>
                    <button class="theme-btn" data-theme="gold" title="Golden Luxury">‚ú®</button>
                </div>
            </div>

            <!-- Header -->
            <div class="header">
                <span class="header-icon">‚è±</span>
                <h1>Precision Stopwatch</h1>
                <p>Professional timing with millisecond accuracy</p>
            </div>

            <!-- Stopwatch Display -->
            <div class="stopwatch-container">
                <div class="stopwatch-display" id="stopwatchDisplay">
                    <div class="time-display">
                        <div class="time-parts" id="timeDisplay">
                            <div class="time-part">
                                <div class="time-value" id="hours">00</div>
                                <div class="time-label">Hours</div>
                            </div>
                            <div class="time-separator">:</div>
                            <div class="time-part">
                                <div class="time-value" id="minutes">00</div>
                                <div class="time-label">Minutes</div>
                            </div>
                            <div class="time-separator">:</div>
                            <div class="time-part">
                                <div class="time-value" id="seconds">00</div>
                                <div class="time-label">Seconds</div>
                            </div>
                            <div class="time-separator">:</div>
                            <div class="time-part">
                                <div class="time-value" id="milliseconds">000</div>
                                <div class="time-label">MS</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Stats Bar -->
            <div class="stats-bar fade-in-up-delay" id="statsBar" style="display: none;">
                <div class="stat-item">
                    <div class="stat-value" id="totalLaps">0</div>
                    <div class="stat-label">Total Laps</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value" id="bestLap">--:--:--</div>
                    <div class="stat-label">Best Time</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value" id="avgLap">--:--:--</div>
                    <div class="stat-label">Average</div>
                </div>
            </div>

            <!-- Controls -->
            <div class="controls fade-in-up-delay">
                <button class="btn btn-start" id="startBtn">
                    <span>‚ñ∂</span> Start
                </button>
                <button class="btn btn-pause" id="pauseBtn" disabled>
                    <span>‚è∏</span> Pause
                </button>
                <button class="btn btn-lap" id="lapBtn" disabled>
                    <span>üèÅ</span> Lap
                </button>
                <button class="btn btn-reset" id="resetBtn">
                    <span>‚Üª</span> Reset
                </button>
            </div>

            <!-- Lap Times -->
            <div class="lap-section">
                <div class="lap-header">
                    <div class="lap-title">Lap Times & Analysis</div>
                    <div class="lap-count" id="lapCount">0 recorded</div>
                </div>
                
                <!-- Enhanced Lap Controls -->
                <div class="lap-controls" id="lapControls" style="display: none;">
                    <button class="lap-control-btn" id="clearLapsBtn">
                        <span>üóë</span> Clear All
                    </button>
                    <button class="lap-control-btn" id="exportLapsBtn">
                        <span>üìä</span> Export
                    </button>
                    <div class="lap-filter">
                        <select id="sortLaps" class="lap-select">
                            <option value="newest">Newest First</option>
                            <option value="oldest">Oldest First</option>
                            <option value="fastest">Fastest First</option>
                            <option value="slowest">Slowest First</option>
                        </select>
                    </div>
                </div>

                <div class="lap-list" id="lapList">
                    <div class="empty-state">
                        <div class="empty-icon">üèÉ‚Äç‚ôÇÔ∏è</div>
                        <div class="empty-text">Start timing to record lap times<br>Press the lap button during a session</div>
                    </div>
                </div>
                
                <!-- Lap Summary -->
                <div class="lap-summary" id="lapSummary" style="display: none;">
                    <div class="summary-item">
                        <div class="summary-label">Total Session Time</div>
                        <div class="summary-value" id="totalSessionTime">--:--:--</div>
                    </div>
                    <div class="summary-item">
                        <div class="summary-label">Fastest Split</div>
                        <div class="summary-value" id="fastestSplit">--:--:--</div>
                    </div>
                    <div class="summary-item">
                        <div class="summary-label">Slowest Split</div>
                        <div class="summary-value" id="slowestSplit">--:--:--</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        class PrecisionStopwatch {
            constructor() {
                this.startTime = 0;
                this.elapsedTime = 0;
                this.isRunning = false;
                this.intervalId = null;
                this.lapCounter = 0;
                this.lapTimes = [];
                this.lapData = []; // Enhanced lap data storage

                // DOM elements
                this.hoursEl = document.getElementById('hours');
                this.minutesEl = document.getElementById('minutes');
                this.secondsEl = document.getElementById('seconds');
                this.millisecondsEl = document.getElementById('milliseconds');
                this.startBtn = document.getElementById('startBtn');
                this.pauseBtn = document.getElementById('pauseBtn');
                this.resetBtn = document.getElementById('resetBtn');
                this.lapBtn = document.getElementById('lapBtn');
                this.lapList = document.getElementById('lapList');
                this.lapCount = document.getElementById('lapCount');
                this.stopwatchDisplay = document.getElementById('stopwatchDisplay');
                this.statsBar = document.getElementById('statsBar');
                this.totalLaps = document.getElementById('totalLaps');
                this.bestLap = document.getElementById('bestLap');
                this.avgLap = document.getElementById('avgLap');

                // Enhanced lap elements
                this.lapControls = document.getElementById('lapControls');
                this.clearLapsBtn = document.getElementById('clearLapsBtn');
                this.exportLapsBtn = document.getElementById('exportLapsBtn');
                this.sortLaps = document.getElementById('sortLaps');
                this.lapSummary = document.getElementById('lapSummary');
                this.totalSessionTime = document.getElementById('totalSessionTime');
                this.fastestSplit = document.getElementById('fastestSplit');
                this.slowestSplit = document.getElementById('slowestSplit');

                this.initializeEventListeners();
                this.createBackgroundParticles();
                this.initializeKeyboardShortcuts();
                this.initializeThemeSelector();
            }

            initializeEventListeners() {
                this.startBtn.addEventListener('click', () => this.start());
                this.pauseBtn.addEventListener('click', () => this.pause());
                this.resetBtn.addEventListener('click', () => this.reset());
                this.lapBtn.addEventListener('click', () => this.recordLap());

                // Enhanced lap controls
                this.clearLapsBtn.addEventListener('click', () => this.clearAllLaps());
                this.exportLapsBtn.addEventListener('click', () => this.exportLapData());
                this.sortLaps.addEventListener('change', () => this.sortLapTimes());
            }

            initializeThemeSelector() {
                const themeButtons = document.querySelectorAll('.theme-btn');
                const body = document.body;
                
                // Set default theme as active
                document.querySelector('[data-theme="default"]').classList.add('active');
                
                themeButtons.forEach(btn => {
                    btn.addEventListener('click', () => {
                        // Remove active class from all buttons
                        themeButtons.forEach(b => b.classList.remove('active'));
                        
                        // Add active class to clicked button
                        btn.classList.add('active');
                        
                        // Apply theme
                        const theme = btn.dataset.theme;
                        
                        // Remove existing theme classes
                        body.className = body.className.replace(/theme-\w+/g, '');
                        
                        // Add new theme class (except for default)
                        if (theme !== 'default') {
                            body.classList.add(`theme-${theme}`);
                        }
                        
                        // Store theme preference
                        localStorage.setItem('stopwatch-theme', theme);
                        
                        // Visual feedback
                        btn.style.transform = 'scale(0.95)';
                        setTimeout(() => {
                            btn.style.transform = '';
                        }, 150);
                    });
                });
                
                // Load saved theme
                const savedTheme = localStorage.getItem('stopwatch-theme');
                if (savedTheme) {
                    const themeBtn = document.querySelector(`[data-theme="${savedTheme}"]`);
                    if (themeBtn) {
                        themeBtn.click();
                    }
                }
            }

            initializeKeyboardShortcuts() {
                document.addEventListener('keydown', (event) => {
                    if (event.target.tagName === 'INPUT' || event.target.tagName === 'TEXTAREA') return;
                    
                    switch(event.code) {
                        case 'Space':
                            event.preventDefault();
                            if (!this.startBtn.disabled) {
                                this.start();
                            } else if (!this.pauseBtn.disabled) {
                                this.pause();
                            }
                            break;
                        case 'KeyL':
                            event.preventDefault();
                            if (!this.lapBtn.disabled) {
                                this.recordLap();
                            }
                            break;
                        case 'KeyR':
                            event.preventDefault();
                            this.reset();
                            break;
                    }
                });
            }

            createBackgroundParticles() {
                const particles = document.getElementById('particles');
                for (let i = 0; i < 20; i++) {
                    const particle = document.createElement('div');
                    particle.className = 'particle';
                    particle.style.left = Math.random() * 100 + '%';
                    particle.style.top = Math.random() * 100 + '%';
                    particle.style.width = Math.random() * 4 + 2 + 'px';
                    particle.style.height = particle.style.width;
                    particle.style.animationDelay = Math.random() * 6 + 's';
                    particle.style.animationDuration = (Math.random() * 3 + 3) + 's';
                    particles.appendChild(particle);
                }
            }

            start() {
                if (!this.isRunning) {
                    this.startTime = Date.now() - this.elapsedTime;
                    this.isRunning = true;
                    this.intervalId = setInterval(() => this.updateDisplay(), 10);
                    
                    this.startBtn.disabled = true;
                    this.pauseBtn.disabled = false;
                    this.lapBtn.disabled = false;
                    
                    this.stopwatchDisplay.classList.add('running');
                    this.stopwatchDisplay.classList.remove('paused');
                    
                    this.animateButton(this.startBtn);
                }
            }

            pause() {
                if (this.isRunning) {
                    this.isRunning = false;
                    clearInterval(this.intervalId);
                    
                    this.startBtn.disabled = false;
                    this.pauseBtn.disabled = true;
                    this.lapBtn.disabled = true;
                    
                    this.stopwatchDisplay.classList.remove('running');
                    this.stopwatchDisplay.classList.add('paused');
                    
                    this.animateButton(this.pauseBtn);
                }
            }

            reset() {
                this.isRunning = false;
                this.elapsedTime = 0;
                this.lapCounter = 0;
                this.lapTimes = [];
                this.lapData = [];
                clearInterval(this.intervalId);
                
                this.updateDisplay();
                this.updateStats();
                
                this.startBtn.disabled = false;
                this.pauseBtn.disabled = true;
                this.lapBtn.disabled = true;
                
                this.clearLapTimes();
                this.statsBar.style.display = 'none';
                this.lapControls.style.display = 'none';
                this.lapSummary.style.display = 'none';
                
                this.stopwatchDisplay.classList.remove('running', 'paused');
                
                this.animateButton(this.resetBtn);
            }

            recordLap() {
                if (this.isRunning) {
                    this.lapCounter++;
                    const currentTime = this.elapsedTime;
                    const splitTime = this.lapCounter > 1 ? currentTime - this.lapTimes[this.lapTimes.length - 1] : currentTime;
                    
                    this.lapTimes.push(currentTime);
                    this.lapData.push({
                        lapNumber: this.lapCounter,
                        totalTime: currentTime,
                        splitTime: splitTime,
                        timestamp: new Date()
                    });
                    
                    this.addLapTime(this.lapCounter, currentTime, splitTime);
                    this.updateStats();
                    this.updateLapSummary();
                    this.statsBar.style.display = 'flex';
                    this.lapControls.style.display = 'flex';
                    this.lapSummary.style.display = 'grid';
                    
                    this.animateButton(this.lapBtn);
                }
            }

            updateDisplay() {
                if (this.isRunning) {
                    this.elapsedTime = Date.now() - this.startTime;
                }

                const totalMilliseconds = Math.floor(this.elapsedTime);
                const hours = Math.floor(totalMilliseconds / 3600000);
                const minutes = Math.floor((totalMilliseconds % 3600000) / 60000);
                const seconds = Math.floor((totalMilliseconds % 60000) / 1000);
                const milliseconds = totalMilliseconds % 1000;

                this.hoursEl.textContent = hours.toString().padStart(2, '0');
                this.minutesEl.textContent = minutes.toString().padStart(2, '0');
                this.secondsEl.textContent = seconds.toString().padStart(2, '0');
                this.millisecondsEl.textContent = milliseconds.toString().padStart(3, '0');
            }

            formatTime(milliseconds) {
                const totalSeconds = Math.floor(milliseconds / 1000);
                const hours = Math.floor(totalSeconds / 3600);
                const minutes = Math.floor((totalSeconds % 3600) / 60);
                const seconds = totalSeconds % 60;
                const ms = Math.floor(milliseconds % 1000);

                if (hours > 0) {
                    return `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
                }
                return `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}.${Math.floor(ms/10).toString().padStart(2, '0')}`;
            }

            addLapTime(lapNumber, totalTime, splitTime) {
                const emptyState = this.lapList.querySelector('.empty-state');
                if (emptyState) {
                    emptyState.remove();
                }

                const lapItem = document.createElement('div');
                lapItem.className = 'lap-item';
                lapItem.dataset.lapNumber = lapNumber;
                lapItem.dataset.totalTime = totalTime;
                lapItem.dataset.splitTime = splitTime;
                
                // Determine performance badge
                let performanceBadge = '';
                if (this.lapData.length > 1) {
                    const splitTimes = this.lapData.map(lap => lap.splitTime);
                    const fastest = Math.min(...splitTimes);
                    const slowest = Math.max(...splitTimes);
                    
                    if (splitTime === fastest) {
                        performanceBadge = '<span class="performance-badge badge-best">Best</span>';
                    } else if (splitTime === slowest && splitTimes.length > 2) {
                        performanceBadge = '<span class="performance-badge badge-worst">Slow</span>';
                    }
                }
                
                lapItem.innerHTML = `
                    <div class="lap-position">${lapNumber}</div>
                    <div class="lap-details">
                        <div class="lap-main-info">
                            <div class="lap-number">Lap ${lapNumber}</div>
                            <div class="lap-time">${this.formatTime(totalTime)}</div>
                        </div>
                        <div class="lap-meta">
                            <div class="lap-split-time">
                                <span>Split: ${this.formatTime(splitTime)}</span>
                                ${performanceBadge}
                            </div>
                            <div class="lap-performance">
                                <span>${new Date().toLocaleTimeString()}</span>
                            </div>
                        </div>
                    </div>
                `;

                this.lapList.insertBefore(lapItem, this.lapList.firstChild);

                // Enhanced animation
                lapItem.style.opacity = '0';
                lapItem.style.transform = 'translateY(-15px) scale(0.9)';
                requestAnimationFrame(() => {
                    lapItem.style.transition = 'all 0.5s cubic-bezier(0.34, 1.56, 0.64, 1)';
                    lapItem.style.opacity = '1';
                    lapItem.style.transform = 'translateY(0) scale(1)';
                });

                this.lapCount.textContent = `${this.lapCounter} recorded`;
                
                // Update all performance badges
                this.updatePerformanceBadges();
            }

            updatePerformanceBadges() {
                if (this.lapData.length < 2) return;
                
                const splitTimes = this.lapData.map(lap => lap.splitTime);
                const fastest = Math.min(...splitTimes);
                const slowest = Math.max(...splitTimes);
                
                this.lapList.querySelectorAll('.lap-item').forEach(item => {
                    const splitTime = parseFloat(item.dataset.splitTime);
                    const badgeContainer = item.querySelector('.lap-split-time');
                    
                    // Remove existing badges
                    const existingBadge = badgeContainer.querySelector('.performance-badge');
                    if (existingBadge) existingBadge.remove();
                    
                    // Add new badge if applicable
                    let badge = '';
                    if (splitTime === fastest) {
                        badge = '<span class="performance-badge badge-best">Best</span>';
                    } else if (splitTime === slowest && splitTimes.length > 2) {
                        badge = '<span class="performance-badge badge-worst">Slow</span>';
                    }
                    
                    if (badge) {
                        badgeContainer.insertAdjacentHTML('beforeend', badge);
                    }
                });
            }

            updateLapSummary() {
                if (this.lapData.length === 0) return;
                
                const splitTimes = this.lapData.map(lap => lap.splitTime);
                const totalTime = this.lapData[this.lapData.length - 1].totalTime;
                const fastestSplit = Math.min(...splitTimes);
                const slowestSplit = Math.max(...splitTimes);
                
                this.totalSessionTime.textContent = this.formatTime(totalTime);
                this.fastestSplit.textContent = this.formatTime(fastestSplit);
                this.slowestSplit.textContent = this.formatTime(slowestSplit);
            }

            clearAllLaps() {
                this.lapData = [];
                this.lapTimes = [];
                this.lapCounter = 0;
                this.clearLapTimes();
                this.lapControls.style.display = 'none';
                this.lapSummary.style.display = 'none';
                this.updateStats();
            }

            exportLapData() {
                if (this.lapData.length === 0) return;
                
                const csvContent = [
                    'Lap,Total Time,Split Time,Timestamp',
                    ...this.lapData.map(lap => 
                        `${lap.lapNumber},${this.formatTime(lap.totalTime)},${this.formatTime(lap.splitTime)},${lap.timestamp.toISOString()}`
                    )
                ].join('\n');
                
                const blob = new Blob([csvContent], { type: 'text/csv' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = `stopwatch-data-${new Date().toISOString().split('T')[0]}.csv`;
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                URL.revokeObjectURL(url);
                
                // Visual feedback
                this.exportLapsBtn.innerHTML = '<span>‚úì</span> Exported';
                setTimeout(() => {
                    this.exportLapsBtn.innerHTML = '<span>üìä</span> Export';
                }, 2000);
            }

            sortLapTimes() {
                const sortBy = this.sortLaps.value;
                const lapItems = Array.from(this.lapList.querySelectorAll('.lap-item'));
                
                lapItems.sort((a, b) => {
                    const aLap = parseInt(a.dataset.lapNumber);
                    const bLap = parseInt(b.dataset.lapNumber);
                    const aTotal = parseFloat(a.dataset.totalTime);
                    const bTotal = parseFloat(b.dataset.totalTime);
                    const aSplit = parseFloat(a.dataset.splitTime);
                    const bSplit = parseFloat(b.dataset.splitTime);
                    
                    switch(sortBy) {
                        case 'oldest': return aLap - bLap;
                        case 'fastest': return aSplit - bSplit;
                        case 'slowest': return bSplit - aSplit;
                        default: return bLap - aLap; // newest first
                    }
                });
                
                // Clear and re-add sorted items
                this.lapList.innerHTML = '';
                lapItems.forEach(item => this.lapList.appendChild(item));
            }

            updateStats() {
                if (this.lapTimes.length === 0) return;

                const bestTime = Math.min(...this.lapTimes);
                const avgTime = this.lapTimes.reduce((a, b) => a + b, 0) / this.lapTimes.length;

                this.totalLaps.textContent = this.lapTimes.length;
                this.bestLap.textContent = this.formatTime(bestTime);
                this.avgLap.textContent = this.formatTime(avgTime);
            }

            clearLapTimes() {
                this.lapList.innerHTML = `
                    <div class="empty-state">
                        <div class="empty-icon">üèÉ‚Äç‚ôÇÔ∏è</div>
                        <div class="empty-text">Start timing to record lap times<br>Press the lap button during a session</div>
                    </div>
                `;
                this.lapCount.textContent = '0 recorded';
            }

            animateButton(button) {
                button.style.transform = 'scale(0.95)';
                setTimeout(() => {
                    button.style.transform = '';
                }, 150);
            }
        }

        // Initialize the stopwatch when the page loads
        document.addEventListener('DOMContentLoaded', () => {
            new PrecisionStopwatch();
        });

        // Add haptic feedback for mobile devices
        if ('vibrate' in navigator) {
            document.addEventListener('click', (e) => {
                if (e.target.classList.contains('btn') && !e.target.disabled) {
                    navigator.vibrate(10);
                }
            });
        }

        // Add focus management for accessibility
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Tab') {
                document.body.classList.add('keyboard-focus');
            }
        });

        document.addEventListener('mousedown', () => {
            document.body.classList.remove('keyboard-focus');
        });
    </script>

    <style>
        /* Focus styles for accessibility */
        .keyboard-focus .btn:focus {
            outline: 2px solid rgba(255, 255, 255, 0.5);
            outline-offset: 2px;
        }

        /* Additional smooth transitions */
        .time-value {
            transition: all 0.1s ease-out;
        }

        .running .time-value {
            text-shadow: 0 0 20px rgba(255, 255, 255, 0.4);
        }

        /* Enhanced mobile experience */
        @media (hover: none) and (pointer: coarse) {
            .btn:hover {
                transform: none;
            }
            
            .btn:active {
                transform: scale(0.95);
                transition: transform 0.1s ease;
            }
            
            .lap-item:hover {
                transform: none;
            }
        }

        /* Dark mode support */
        @media (prefers-color-scheme: dark) {
            :root {
                --glass-bg: rgba(255, 255, 255, 0.05);
                --glass-border: rgba(255, 255, 255, 0.1);
                --dark-glass: rgba(0, 0, 0, 0.2);
            }
        }

        /* Reduced motion support */
        @media (prefers-reduced-motion: reduce) {
            *, *::before, *::after {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
            
            .particle {
                display: none;
            }
        }

        /* High contrast mode support */
        @media (prefers-contrast: high) {
            .app-container {
                border: 2px solid rgba(255, 255, 255, 0.8);
            }
            
            .btn {
                border: 1px solid rgba(255, 255, 255, 0.5);
            }
            
            .lap-item {
                border: 1px solid rgba(255, 255, 255, 0.3);
            }
        }
    </style>
</body>
</html>